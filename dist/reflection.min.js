"use strict";var Reflection=function(t){return{_obj:t||{},_getPropertyReference:function(t,e){for(var r=t.split("."),n=this._obj,o=0;o<r.length-1;o++){if(!n.hasOwnProperty(r[o])){if(e!==!0)return;n[r[o]]={}}n=n[r[o]]}return n[r[o]]},_getProperties:function(t,e,r){r=r||[],e=e||[];var n,o=[];for(var i in t)if(n=!1,t.hasOwnProperty(i)){for(var s=0;s<e.length;s++)if(typeof t[i]===e[s]){n=!0;break}if(!n)if(r.length>0)for(var s=0;s<r.length;s++)typeof t[i]===r[s]&&o.push(i);else o.push(i)}return o},call:function(t){if(this.owns(t)){for(var e=[].slice.call(arguments).splice(1),r=t.split("."),n=r.pop(),o=this._obj,i=0;i<r.length;i++)o=o[r[i]];return o[n](e)}},get:function(t){return this._getPropertyReference(t,!1)},methods:function(){return this._getProperties(this._obj,null,["function"])},owns:function(t){var e=this._getPropertyReference(t,!1);return void 0!==e},properties:function(){return this._getProperties(this._obj,["function"])},set:function(t,e){for(var r=t.split("."),n=this._obj,o=0;o<r.length-1;o++)n.hasOwnProperty(r[o])||(n[r[o]]={}),n=n[r[o]];n[r[o]]=e}}};module.exports=Reflection;